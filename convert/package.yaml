name: convert
version: 0.2.0.3
github: "deemp/convert"
license: BSD3
author: "Danila Danko, Nickolay Kudasov"
maintainer: "Danila Danko"
copyright: "Danila Danko, Nickolay Kudasov"
category: "spreadsheet"
synopsis: "Declaratively describe spreadsheets"

# extra-source-files:
#   - README.md
#   - CHANGELOG.md

# Metadata used when publishing your package
# synopsis:            Short description of your package
# category:            value

# To avoid duplicated efforts in documentation and dealing with the
# complications of embedding Haddock markup inside cabal files, it is
# common to point users to the README.md file.
description: | 
  convert clerk modules to Tex

dependencies:
  - base >= 4.9 && < 5.0

ghc-options:
  - -Wall

library:
  source-dirs: src
  dependencies:
    - aeson
    - clerk
    - lens
    - lens-aeson
    - lima
    - microlens
    - mtl
    - string-interpolate
    - text
    - transformers
    - xlsx

# default-extensions:
  # - ConstraintKinds
  # - DataKinds
  # - DeriveAnyClass
  # - DeriveGeneric
  # - DerivingVia
  # - DuplicateRecordFields
  # - FlexibleContexts
  # - FlexibleInstances
  # - GADTs
  # - GeneralizedNewtypeDeriving
  # - InstanceSigs
  # - ImportQualifiedPost
  # - OverloadedRecordDot
  # - KindSignatures
  # - MultiParamTypeClasses
  # - NamedFieldPuns
  # - OverloadedStrings
  # - PolyKinds
  # - QuantifiedConstraints
  # - RankNTypes
  # - RecordWildCards
  # - ScopedTypeVariables
  # - StandaloneDeriving
  # - TupleSections
  # - TypeApplications
  # - TypeFamilies
  # - TypeOperators
  # - UndecidableInstances
  # - ViewPatterns
  # - ExplicitNamespaces
  # - QuantifiedConstraints

# TODO move chapters to executables
# so that the converter can be built without building the chapters
executables:
  chapter3-1:
    main: Chapters/Chapter3/Intro/Main.hs
    dependencies:
      - clerk
      - text
  chapter4-1:
    main: Chapters/Chapter4/Example1/Main.hs
    dependencies:
      - clerk
      - text
  chapter4-2:
    main: Chapters/Chapter4/Example2/Main.hs
    dependencies:
      - clerk
      - text
      - microlens
  chapter4-3:
    main: Chapters/Chapter4/Example3/Main.hs
    dependencies:
      - clerk
      - text
      - microlens
      - xlsx
  chapter4-4:
    main: Chapters/Chapter4/Example4/Main.hs
    dependencies:
      - clerk
      - text
      - microlens
      - xlsx
      - mtl
      - transformers

tests:
  hs-tex:
    main: Main.hs
    source-dirs: test/HsToTex
    dependencies: &testDependencies
      - convert
      - lima
    default-extensions: &testExtensions
      - QuasiQuotes
      - ScopedTypeVariables
      - OverloadedStrings
  tex-hs:
    main: Main.hs
    source-dirs: test/TexToHs
    dependencies: *testDependencies
    default-extensions: *testExtensions